<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript">
<!--

var deg = -570.0;
var speed = 0.0;
scrollOquno = function(e) {
	speed += (e.wheelDelta ? (-e.wheelDelta/70) : (e.detail/2.5) );
}

window.addEventListener('DOMMouseScroll', scrollOquno); // Firefox
window.addEventListener('mousewheel', scrollOquno); // Chrome

var touching = false;
window.addEventListener("touchstart", function(e) { touching = true; });
window.addEventListener("touchend", function(e) { touching = false; });
window.addEventListener("touchmove", function(e) {
    if ( !touching )
        return;
    speed -= e.touches[0].pageY / 150.0;
});

var lastDeg = deg;

rotateOquno = function() { 
  if ( speed < 0.1 && speed > -0.1 )
     return;
  speed *= 0.88;
  deg += speed;
  updateOquno();
}
    

updateOquno = function() {
	var size = (Math.sin(deg/360)+1) * 900 + 32;
    
    var os = oquno.style;
    os.width = size + "px";
    os.transform = "rotate(" + deg + "deg)"
}


var oquno = null;

window.addEventListener('load', function(){

  oquno = document.getElementById("oquno");
  var target = (new URL(document.location)).searchParams.get("target");
  if ( target ) {
      oquno["src"] = target;
  }

  updateOquno();
  setInterval(rotateOquno, 16);
});
-->
</script>
<style type="text/css">
	body { 
		overflow: hidden;
	}
	img { text-align: center; }
</style>
<title>rotation</title>
</head>
<body>
	<img id='oquno' src='sozai.png' alt='oquno'>
</body>
</html>
