<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="js/jQueryRotateCompressed.2.2.js"></script>
	<script type="text/javascript">
<!--


var deg = 1.0;
var speed = 0.0;
scrollOquno = function(e) {
	speed += (e.wheelDelta ? (-e.wheelDelta/70) : (e.detail/2.5) );
}

window.addEventListener('DOMMouseScroll', scrollOquno); // Firefox
window.addEventListener('mousewheel', scrollOquno); // Chrome

var touching = false;
window.addEventListener("touchstart", function(e) { touching = true; });
window.addEventListener("touchend", function(e) { touching = false; });
window.addEventListener("touchmove", function(e) {
    if ( !touching )
        return;
    speed -= e.touches[0].pageY / 150.0;
});

var lastDeg = deg;

rotateOquno = function() { 
  if ( speed < 0.1 && speed > -0.1 )
     return;
  speed *= 0.88;
  deg += speed;
  updateOquno();
}
    

updateOquno = function() {
	var size = (Math.sin(deg/360)+1) * 900 + 32;

    // ここだけjQuery依存部分
	var oq = $("#oquno");
	oq.rotate(deg);
	oq.css({width: size, height: size});
}

setInterval(rotateOquno, 16);
window.addEventListener('load', updateOquno);

-->
</script>
<style type="text/css">
	body { 
		overflow: hidden;
	}
	img { text-align: center; }
</style>
<title>回転して大きくなったり小さくなったりするやつ</title>
</head>
<body>
	<img id='oquno' src='img/oquno.png' alt='oquno'>
</body>
</html>
